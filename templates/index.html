{% extends "base.html" %}

{% block content %}
<section id="blog" class="section blog-main">
    <div class="container">
        <h2>Latest Blog Posts</h2>
        
        <div class="blog-grid">
            {% for post in posts %}
            <div class="card">
                {% if post.youtube_id %}
                <a href="{{ post.youtube_url }}" target="_blank" class="youtube-link-wrapper">
                    <div class="card-image youtube-thumbnail" style="background-image: url('https://img.youtube.com/vi/{{ post.youtube_id }}/maxresdefault.jpg'); background-size: cover; background-position: center;">
                        <div class="play-button">‚ñ∂Ô∏è</div>
                    </div>
                </a>
                {% else %}
                <div class="card-image">{{ post.emoji }}</div>
                {% endif %}
                
                <div class="card-content">
                    <h3>{{ post.title }}</h3>
                    <p>{{ post.excerpt }}</p>
                    
                    {% if post.youtube_url %}
                    <p class="youtube-link">üìπ <a href="{{ post.youtube_url }}" target="_blank">Watch on YouTube</a></p>
                    {% endif %}
                    
                    <a href="{{ url_for('view_post', post_id=post.id) }}" class="read-more">Read More ‚Üí</a>
                    
                    <div class="card-meta">
                        <span>üìÖ {{ post.date }}</span>
                        <span>üè∑Ô∏è {{ post.category.title() }}</span>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        {% if not posts %}
        <div class="no-posts">
            <p>No posts found for this category. Check back soon!</p>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}